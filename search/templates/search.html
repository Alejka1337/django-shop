{% extends 'ecomm/base.html' %}
{% load i18n %}

{% block content %}
    <div class="row mb-3">
    {% if query %}
        <div class="col-12 mb-3">
            {% trans 'Results for'%}: <b>{{ query }}</b>
            <hr/>
        </div>
    {% else %}
        <div class="col-12 col-md-8 mx-auto py-5">
            {% include "search_form.html" %}
        </div>
        <div class="col-12">
            <hr>
        </div>
    {% endif %}
    </div>
    <div class="row">

        {% for product in products %}
        <div class="col">
            {% include 'ecomm/card.html' with instance=object %}
            {% if forloop.counter|divisibleby:3 %}
            </div></div><div class="row"><div class="col-12"><hr/></div>
            {% elif forloop.counter|divisibleby:2 %}
                </div></div><div class="row"><div class="col-12"><hr/></div>
            {% else %}
            </div>
            {% endif %}

        </div>
        {% endfor %}

    </div>

{% endblock content %}